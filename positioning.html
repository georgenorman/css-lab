<!DOCTYPE html>
<!--
  ~ Copyright (c) 2014 George Norman.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->
<html>
<head>
  <title>Positioning</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style>
    @import "css/base.css";
    @import "css/cssSummaryBase.css";
  </style>
  <script type="text/javascript" src="js/domHelper.js?v1"></script>
  <script type="text/javascript" src="js/commonPage.js?v1"></script>
  <script type="text/javascript" src="js/cssSummary.js?v1"></script>
</head>
<body onload="commonPageModule.performDefaultOnLoad();">
<header>
  <h1>Positioning</h1>
</header>

<main>

  <div aboutPagePanel style="margin-top:12px;"></div>

  <nav tableOfContents='{"tocClass":"toc", "contentHeaderItemTagName":"h2"}'></nav>

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 id="common-css">Common CSS</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<script type="multiline-template" id="commonCss">
/* A 300px square, expected to serve as a fixed background. */
.outer-div-sans-border {
  background-color: #ccc;
  width: 300px;
  height: 300px;
  padding: 0;
  margin: 0;
}

/* A 240px square grid, to illustrate the position of a nested div. */
.middle-grid {
  width: 240px;
  height: 240px;
}

/* A relative positioned 140px square, with a 20px border and a 100px content region. */
.relative-square {
  width: 100px;
  height: 100px;
  border: 20px solid rgba(255, 0, 0, 0.5);
}
</script>

  <script type="text/javascript">
    cssSummaryModule.insertStyleFromTemplate('commonCss');
    cssSummaryModule.insertCodeExampleWithHeadingFromTemplate('commonCss', '', 'css');
  </script>

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 id="position-relative">Relative div nested inside static</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>
    This series of examples demonstrates some of the wacky things that happen when you nest a relative div inside a static div.
    I'm not sure there would ever be a reason to do this, but good to know in case it's ever done by accident.
  </p>

  <!-- `````````````````````````````````` -->
  <h3>Relative div has no margin</h3>
  <!-- `````````````````````````````````` -->

  <p>
    There are three divs: <i>innerMost</i> is nested inside of <i>middleGrid</i>, which in turn is nested inside of <i>outerMost</i>.
    The resulting position of the <i>innerMost</i> div is exactly as expected -
    it's relatively positioned inside of <i>middleGrid</i>, at 40px from the top and 40px from the left.
  </p>

<script type="multiline-template" id="exampleRelInStaticNoMarginHtml">
<div class="outer-div-sans-border" id="outerMost">
  <div class="grid middle-grid" id="middleGrid">
    <div style="position:relative; top:40px; left:40px;" class="relative-square" id="innerMost">
    </div>
  </div>
</div>
</script>

<script type="text/javascript">cssSummaryModule.insertHtmlExample('exampleRelInStaticNoMarginHtml');</script>

  <br/>Current 'position' styles:
  <ul style="margin-top:0px;">
  <script>
    cssSummaryModule.insertStylePropertyValueListItem('outerMost', 'position');
    cssSummaryModule.insertStylePropertyValueListItem('middleGrid', 'position');
    cssSummaryModule.insertStylePropertyValueListItem('innerMost', 'position');
  </script>
  </ul>

  <!-- `````````````````````````````````` -->
  <h3>Relative div has 10px margin</h3>
  <!-- `````````````````````````````````` -->

  <p>
    Now, let's keep everything the same, except add a margin to the <i>innerMost</i> div (it's relatively positioned inside two static divs).
    <span style="color:red;">Adding a 10px margin to the <i>innerMost</i> div has <b>no effect</b> on its top position, but did affect the left position by 10px (it's now 50px from the left outer side).</span>
  </p>

<script type="multiline-template" id="exampleRelInStatic10pxMarginHtml">
<div class="outer-div-sans-border">
  <div class="grid middle-grid">
    <div style="position:relative; top:40px; left:40px; margin:10px;"
         class="relative-square">
    </div>
  </div>
</div>
</script>

  <script type="text/javascript">cssSummaryModule.insertHtmlExample('exampleRelInStatic10pxMarginHtml');</script>

  <!-- `````````````````````````````````` -->
  <h3>Relative div has 40px margin</h3>
  <!-- `````````````````````````````````` -->

  <p>
    Increasing the margin of the relative div to 40px, still has no effect on its position relative to the top of its immediate parent.
    <span style="color:red;">However, it did push down its parent and its parent's parent by about 26px, as evidenced by the gap immediately above the rendered result.</span>
  </p>

<script type="multiline-template" id="exampleRelInStatic40pxMarginHtml">
<div class="outer-div-sans-border">
  <div class="grid middle-grid">
    <div style="position:relative; top:40px; left:40px; margin:40px;"
         class="relative-square">
    </div>
  </div>
</div>
</script>

  <script type="text/javascript">cssSummaryModule.insertHtmlExample('exampleRelInStatic40pxMarginHtml');</script>

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 id="position-relative-absolute">Relative div nested inside absolute</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <!-- `````````````````````````````````` -->
  <h3>Relative div has 40px margin</h3>
  <!-- `````````````````````````````````` -->

  <p>
    <span style="color:green;">Using a relative div nested inside an absolute one makes all of the issues of the previous section go away.</span>
    The margin of the relative div is 40px and its position relative to the top and left of its immediate parent is the expected 80px.
    Furthermore, the gap at the top of the <i>outerMost</i> div is now gone.
    Adding a border to the <i>outerMost</i> div will not change the result (as it would if the <i>middleGrid</i> div were static).
  </p>

<script type="multiline-template" id="exampleRelInAbsolute40pxMarginHtml">
<div class="outer-div-sans-border" id="outerMostEx2">
  <div class="grid middle-grid" style="position:absolute;" id="middleGridEx2">
    <div style="position:relative; top:40px; left:40px; margin:40px;"
         class="relative-square" id="innerMostEx2">
    </div>
  </div>
</div>
</script>

  <script type="text/javascript">cssSummaryModule.insertHtmlExample('exampleRelInAbsolute40pxMarginHtml');</script>

  <br/>Current 'position' styles:
  <ul style="margin-top:0px;">
    <script>
      cssSummaryModule.insertStylePropertyValueListItem('outerMostEx2', 'position');
      cssSummaryModule.insertStylePropertyValueListItem('middleGridEx2', 'position');
      cssSummaryModule.insertStylePropertyValueListItem('innerMostEx2', 'position');
    </script>
  </ul>


</main>

<footer></footer>

</body>

</html>

