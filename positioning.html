<!DOCTYPE html>
<!--
  ~ Copyright (c) 2014 George Norman.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->
<html>
<head>
  <title>Positioning</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <link rel="shortcut icon" type="image/x-icon" href="./img/favicon.ico"/>
  <style>
    @import "css/all-css.css";
  </style>
</head>
<body onload="cssLabModule.handleOnLoad();">
<header>
  <h1>Positioning</h1>
</header>

<main>
  <cssLabAbout style="margin-top:12px;"/>

  <tzTableOfContents class="toc" level1ItemsTagName="h2" level2ItemsTagName="h3"></tzTableOfContents>

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 id="overview">Overview</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>See this <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position">MDN article on position</a>
     as well as <a href="http://designshack.net/articles/css/the-lowdown-on-absolute-vs-relative-positioning/">The Lowdown on Absolute vs. Relative Positioning</a>.</p>
  <p style="margin-bottom:0;">The <i>position</i> property can be one of the following:</p>
  <ul style="margin-top:0;">
    <li><b>static</b> - This is the default position for elements. The top, right, bottom and left properties do not apply.</li>
    <li>
      <b>absolute</b> - Position the element at the specified position, relative to its closest positioned parent, or to the document.
      An absolute element may overlap other elements.
    </li>
    <li>
      <b>relative</b> - Same as absolute, but preserves the space that the element would have occupied, had it not been moved.
      A relative element may overlap other elements.
    </li>
    <li>
      <b>fixed</b> - Position the element at the specified position, relative to the browser's window, and don't move it when scrolled.
      A fixed element may overlap other elements.
    </li>
  </ul>

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 id="commonCss">Shared CSS</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>
    CSS shared by all experiment on this page.
  </p>

<script type="multiline-template" id="tmplCommonCss">
/* A 300px square, expected to serve as a fixed background. */
.outermost-box {
  background-color: #ccc;
  width: 300px;
  height: 300px;
  padding: 0;
  margin: 0;
}

/* A square grid, nested within outermost-box. */
.grid.middle-box {
  width: 240px;
  height: 240px;
}

/* A square box, nested within middle-box. */
.innermost-box {
  position: relative;
  width: 60px;
  height: 60px;
  border: 20px solid rgba(255, 0, 0, 0.5);
}
</script>

  <tzCssBlock templateId="tmplCommonCss"></tzCssBlock>

  <tzCodeExample templateId="tmplCommonCss" lang="css" width="600px"></tzCodeExample>


  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 tzBulletPointFail id="relativeToStatic">Relative To Static</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>
    This section experiments with positioning a <b><i>relative block</i> within a <i>static block</i></b> and
    demonstrates some of the wacky side effects that result from it.
    <span style="color:#f83;">Not sure why this would ever be used, but it's easy to do, since the default position is static.</span>
  </p>

  <p>
    In each of the following examples, there are three divs: <i>outermost-box</i>, which contains <i>middle-box</i>, which in turn contains <i>innermost-box</i>.
  </p>

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointFail id="relativeToStatic.noMargin">Relative &lt;div&gt; Sans Margin</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-fail">
    In this experiment, the <i>innermost</i> div has no margin and everything seems normal.
    The result is exactly as expected -
    the <i>innermost</i> div is relatively positioned inside of <i>middleGrid</i>, at 40px from the top and 40px from the left.
    <span style="color:#f83">However, this is a setup fraught with peril, once margins, padding and borders are introduced.</span>
  </tzBulletPoint>

<script type="multiline-template" id="tmplExampleRelInStaticNoMarginHtml">
<div class="outermost-box" id="outermost_010">
  <div class="grid middle-box" id="middleGrid_010">
    <div style="top:40px; left:40px; position:relative;" class="innermost-box" id="innermost_010">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="tmplExampleRelInStaticNoMarginHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_010": "position"}, {"middleGrid_010": "position"}, {"innermost_010": "position"}]}' useShortItems="true"></tzDisplayStyles>


  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointFail id="relativeToStatic.topMarginTransfer">Top Margin Transfer</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-fail">
    For this experiment, everything is the same as the previous one, except a 20px margin has been added around the <i>innermost</i> div.
    As expected, this pushes the <i>innermost</i> div 20px to the right, relative to the <i>middle</i> div (increasing that distance to 60px).
    <p>
    <span style="color:#f83;">Surprisingly, the top margin has no effect on the <i>innermost</i> div's distance from the top of the <i>middle</i> div.
    Instead, the top margin bypasses both the <i>innermost</i> and the <i>middle</i> divs and is directly transferred to the top of the <i>outermost</i> div, pushing it down by 20px
    (as evidenced by the more than 20px gap above <i>outermost</i>).</span>
    </p>
    <p>
      <b><i>Note: The effect of Top Margin Transfer can be circumvented by setting the position of a relative div's parent to absolute.
        This is described in</i></b> <a href="#relativeToAbsolute">Relative To Absolute</a>.
    </p>
  </tzBulletPoint>


<script type="multiline-template" id="tmplExampleRelInStatic10pxMarginHtml">
<div class="outermost-box" id="outermost_010">
  <div class="grid middle-box" id="middleGrid_010">
    <div style="margin:20px; top:40px; left:40px; position:relative;" class="innermost-box" id="innermost_010">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="tmplExampleRelInStatic10pxMarginHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_010": "position"}, {"middleGrid_010": "position"}, {"innermost_010": "position"}]}' useShortItems="true"></tzDisplayStyles>


  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointFail id="relativeToStatic.marginTransferWorkarounds">Margin Transfer Workarounds</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-fail">
    Top Margin Transfer can be circumvented by adding a border or padding to the <i>outermost</i> (or <i>middle</i>) div.
    The example below shows that by adding a border to <i>outermost</i>, the margin transfer from <i>innermost</i> is blocked.
    Instead, the top margin is now transferred to the <i>middle</i> div.
    Alternatively, adding a border to the <i>middle</i> div blocks the margin transfer to both <i>middle</i> and <i>outermost</i> divs all at once
    (i.e., adding a border or padding to an outer div blocks the propagation of the margin transfer feature).
  </tzBulletPoint>

<script type="multiline-template" id="relativeToStatic10pxMarginOutermostHasBorderHtml">
<div class="outermost-box" style="border-top:thin solid red;" id="outermost_020">
  <div class="grid middle-box" id="middleGrid_020">
    <div style="margin:20px; top:40px; left:40px; position:relative;" class="innermost-box" id="innermost_020">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="relativeToStatic10pxMarginOutermostHasBorderHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_020": "position"}, {"middleGrid_020": "position"}, {"innermost_020": "position"}]}' useShortItems="true"></tzDisplayStyles>


  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 tzBulletPointFail id="absoluteToRelative">Absolute To Relative</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>
    This section experiments with positioning an <b><i>absolute block</i> within a <i>relative block</i></b>.
  </p>

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointFail id="absoluteToRelative.20pxMargin">Absolute &lt;div&gt; has 20px margin</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-fail">
    In this experiment, <i>innermost</i> is positioned at 40px from the top and left of the <i>middle</i> div.
    Furthermore, a margin of 10px is applied to the <i>middle</i> div and a margin of 20px is applied to <i>innermost</i>.
    The result is that the side margins work as expected and <span style="color:#f83;">the top margins are collapsed and transferred</span>.
  </tzBulletPoint>

<script type="multiline-template" id="absoluteToRelative4pmHtml">
<div class="outermost-box" id="outermost_110">
  <div class="grid middle-box" style="position:relative; margin:10px;" id="middleGrid_110">
    <div style="top:40px; left:40px; margin:20px; position:absolute;" class="innermost-box" id="innermost_110">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="absoluteToRelative4pmHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_110": "position"}, {"middleGrid_110": "position"}, {"innermost_110": "position"}]}' useShortItems="true"></tzDisplayStyles>

  <b>Current 'margin' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_110": "margin"}, {"middleGrid_110": "margin"}, {"innermost_110": "margin"}]}' useShortItems="true"></tzDisplayStyles>

  <b>Current 'padding' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_110": "padding"}, {"middleGrid_110": "padding"}, {"innermost_110": "padding"}]}' useShortItems="true"></tzDisplayStyles>

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointFail id="absoluteToRelative.overlap">Two Innermost Boxes Overlap</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-fail">
    In this experiment, two <i>innermost</i> divs use absolute positioning inside of a relatively positioned <i>middle</i> div.
    The result is that the side margins work as expected and <span style="color:#f83;">the top margins are collapsed and transferred</span>.
  </tzBulletPoint>

<script type="multiline-template" id="absoluteToRelativeHtml">
<div class="outermost-box" id="outermost_120">
  <div class="grid middle-box" style="position:relative; margin:10px;" id="middleGrid_120">
    <div style="top:40px; left:40px; position:absolute;" class="innermost-box" id="innermost_1201">
    </div>
    <div style="top:80px; left:80px; position:absolute;" class="innermost-box" id="innermost_1202">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="absoluteToRelativeHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_120": "position"}, {"middleGrid_120": "position"}, {"innermost_1201": "position"}, {"innermost_1202": "position"}]}' useShortItems="true"></tzDisplayStyles>


  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 tzBulletPointPass id="relativeToAbsolute">Relative To Absolute</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>
    This section experiments with positioning a <b><i>relative block</i> within an <i>absolute block</i></b>.
  </p>

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="relativeToAbsolute.40pxMargin">Relative &lt;div&gt; has 40px margin</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-pass">
    In this experiment, the relative <i>innermost</i> div is nested within the absolute <i>middle</i> div.
    Nesting a single relative div inside of an absolute one is fairly straightforward.
  </tzBulletPoint>

<script type="multiline-template" id="relativeToAbsolute4pmHtml">
<div class="outermost-box" id="outermost_210">
  <div class="grid middle-box" style="position:absolute; margin:10px;" id="middleGrid_210">
    <div style="top:40px; left:40px; margin:20px; position:relative;" class="innermost-box" id="innermost_210">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="relativeToAbsolute4pmHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_210": "position"}, {"middleGrid_210": "position"}, {"innermost_210": "position"}]}' useShortItems="true"></tzDisplayStyles>

  <b>Current 'margin' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_210": "margin"}, {"middleGrid_210": "margin"}, {"innermost_210": "margin"}]}' useShortItems="true"></tzDisplayStyles>

  <b>Current 'padding' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_210": "padding"}, {"middleGrid_210": "padding"}, {"innermost_210": "padding"}]}' useShortItems="true"></tzDisplayStyles>


  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="relativeToAbsolute.overlap">Two Innermost Boxes Overlap</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-pass">
    In this experiment, two relative <i>innermost</i> divs are nested within the absolute <i>middle</i> div.
    Managing the positions of the <i>innermost</i> divs can be cumbersome, because of the way the space occupied by the relative div is preserved.
  </tzBulletPoint>

<script type="multiline-template" id="exampleRelToAbsoluteOverlapHtml">
<div class="outermost-box" id="outermost_220">
  <div class="grid middle-box" style="position:absolute; margin:10px;" id="middleGrid_220">
    <div style="top:60px; left:40px; position:relative;" class="innermost-box" id="innermost_2201">
    </div>
    <div style="top:0; left:80px; position:relative;" class="innermost-box" id="innermost_2202">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="exampleRelToAbsoluteOverlapHtml" width="740px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outermost_220": "position"}, {"middleGrid_220": "position"}, {"innermost_2201": "position"}, {"innermost_2202": "position"}]}' useShortItems="true"></tzDisplayStyles>


  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="relativeToAbsolute.flow">Flow</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-pass">
    This experiment shows that relative-positioned boxes behave as position-static, when the top/right/bottom/left properties are not set.
  </tzBulletPoint>

<script type="multiline-template" id="relativeToAbsoluteFlowHtml">
<div class="outermost-box">
  <div class="grid middle-box" style="position:absolute; margin:10px;">
    <div style="position:relative; margin:10px; float:left;" class="innermost-box">
    </div>
    <div style="position:static; margin:10px; float:right;" class="innermost-box">
    </div>
    This is a test
    <div style="position:relative; padding-right:100px;" class="innermost-box">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="relativeToAbsoluteFlowHtml" width="600px"></tzCssHtmlExample>


  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 tzBulletPointPass id="absoluteToAbsolute">Absolute To Absolute</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <p>
    This section experiments with positioning an <b><i>absolute block</i> within an <i>absolute block</i></b>.
  </p>

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="absoluteToAbsolute.40pxMargin">Innermost and Middle have Margins</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconStyle="margin-top:2px;" iconClass="tz-bullet-point-pass">
    This experiment shows that an absolute box is easy to position and adjust with margins.
  </tzBulletPoint>

  <script type="multiline-template" id="absoluteToAbsolute4pmHtml">
<div class="outermost-box">
  <div class="grid middle-box" style="position:absolute; margin:10px;">
    <div style="top:40px; left:40px; margin:20px; position:absolute;" class="innermost-box">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="absoluteToAbsolute4pmHtml" width="700px"></tzCssHtmlExample>


  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="absoluteToAbsolute.overlap">Two Innermost Boxes Overlap</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconStyle="margin-top:2px;" iconClass="tz-bullet-point-pass">
    This experiment shows that multiple absolute boxes are easy to position and adjust with margins.
  </tzBulletPoint>


  <script type="multiline-template" id="absoluteToAbsoluteOverlapHtml">
<div class="outermost-box">
  <div class="grid middle-box" style="position:absolute; margin:10px;">
    <div style="top:40px; left:40px; position:absolute;" class="innermost-box">
    </div>
    <div style="top:80px; left:80px; position:absolute;" class="innermost-box">
    </div>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="absoluteToAbsoluteOverlapHtml" width="600px"></tzCssHtmlExample>


  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <h2 tzBulletPointPass id="fixedPosition">Fixed Position</h2>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="fixedPosition.staticButton">Fixed &lt;div&gt; with Static &lt;button&gt;</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-pass">
    This experiment shows a fixed div with statically positioned inner elements.
    The outer container doesn't matter much, because the fixed inner div is hoisted out of it's parent container and displayed at the fixed position specified by its top/right/bottom/left properties.
  </tzBulletPoint>

<script type="multiline-template" id="fixedWithStaticBtnCss">
.fixed-example-1 {
  position: fixed;
  top: 20%;
  left: 10%;
  width: 250px;
  height: 180px;
  background: #333;
  border: 8px solid #999;
  display: none;
}
</script>

<script type="multiline-template" id="fixedWithStaticBtnHtml">
<div>
  <button onclick="tzDomHelperModule.show('fixedWithStaticBtn'); return false;">Show Fixed with Static Button</a>
</div>

<div id="outerForFixedWithStaticBtn">
  <div class="fixed-example-1" id="fixedWithStaticBtn">
    <button onclick="tzDomHelperModule.hide('fixedWithStaticBtn'); return false;"
            style="float:right; margin:6px; height:21px;" id="staticBtnEx1">Close</button>
    <p style="margin-top:30px; padding:12px; text-align:center; color:#999">
      This div position is fixed, relative to the browser window.
      Scrolling the window does not affect its position.
    </p>
  </div>
</div>
</script>

  <tzCssHtmlExample templateId="fixedWithStaticBtn" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outerForFixedWithStaticBtn": "position"}, {"fixedWithStaticBtn": "position"}, {"staticBtnEx1": "position"}]}' useShortItems="true"></tzDisplayStyles>

  <!-- `````````````````````````````````` -->
  <h3 tzBulletPointPass id="fixedPosition.relativeButton">Fixed &lt;div&gt; with Relative &lt;button&gt;</h3>
  <!-- `````````````````````````````````` -->

  <tzBulletPoint iconClass="tz-bullet-point-pass">
    Same as above, but now the button has been changed from static to relative and is positioned to the bottom-right corner.
  </tzBulletPoint>

<script type="multiline-template" id="fixedWithRelativeBtnHtml">
<div>
  <button onclick="tzDomHelperModule.show('fixedWithRelativeBtn'); return false;">Show Fixed with Relative Button</a>
</div>

<div id="outerForFixedWithRelativeBtn">
  <div class="fixed-example-1" id="fixedWithRelativeBtn">
    <button onclick="tzDomHelperModule.hide('fixedWithRelativeBtn'); return false;"
            style="position:relative; top:150px; left:195px; height:21px;" id="relativeBtnFwrb">Close</button>
    <p style="margin-top:30px; padding:12px; text-align:center; color:#999"">
      This div position is fixed, relative to the browser window.
      Scrolling the window does not affect its position.
    </p>
  </div>
</div>
</script>

  <tzCssHtmlExample htmlTemplateId="fixedWithRelativeBtnHtml" width="840px"></tzCssHtmlExample>

  <b>Current 'position' styles:</b>
  <tzDisplayStyles items='{"idStylePairs":[{"outerForFixedWithRelativeBtn": "position"}, {"fixedWithRelativeBtn": "position"}, {"relativeBtnFwrb": "position"}]}' useShortItems="true"></tzDisplayStyles>

</main>

<footer></footer>

<script type="text/javascript" src="js/all-javascript.js"></script> <!-- http://stackoverflow.com/questions/5220313/where-should-js-scripts-go-in-an-html-file -->
</body>

</html>
